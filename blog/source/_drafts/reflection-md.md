---
layout: daft
title: reflection.md
date: 2021-03-23 00:12:11
categories:
- Golang
tags: 
- Golang
---
时常感觉到独立写一个整体的软件会有困难。这是为什么呢？就比如说这次写连接池，为什么会存在很大的困难。
首先就是设计不清晰，从最开始就没有很好地理解http，怎么保持的连接，连接怎么处理的。  
第二就是在实现设计的过程中，总是遇到各种各样的问题，总是有各种各样没有想到的地方。  
第三就是有些底层的地方理解不深刻。  
第四就是对于golang的很多用法还是不够熟练。  

但是我能做些什么呢？  
我的设计不清晰，设计不够详细，但是我一开始也只能想到那么多啊，不要说自己想，就是我照着官方库的源码看，去总结，我也总结不出来一个完整的路径。  
很显然，我知道，我需要一个连接池，然后每次有新的请求的时候去连接池里面取，如果没有就新建一个，然后放进连接池里面。  
这是设计的思路啊，但是这个实现简直差了十万八千里，我甚至不知道差在哪？然后我去看官方库的实习，我看的一头雾水，我在B，我要实现A，然后我看了眼
源码，A和B之间怎么多了这么多我不知道在干嘛的东西。我很难想像一个能在什么也没有实现的时候考虑到那么多东西，什么readLoop，writeLoop以及它们之间
怎么用通道通信，这是多么巨大的思考量，我觉得根本不可能。   
到底差在哪里？语言方面知识的缺失是会在debug或者实现时候浪费一些时间，但是想都想不到我是差了什么？一些常见的pattern肯定没得说，我是不知道的。

另外一种方式是，我就用自己的方式写，然后看看为什么不对。   
我得掌握那几个pattern。
我希望思考链总是足够短的，或者说适当短的，我需要有足够的工具使得这个思考足够短。


我发现我的思考模式还是偏向于面向过程，所以我喜欢画流程图，而很多地方见到的更像是组件图，类图，这是面向对象的思考方式。以及时序图，这是一个行为
定义的方式。
